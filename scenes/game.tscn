[gd_scene load_steps=27 format=3 uid="uid://6uwpprnvngbp"]

[ext_resource type="Script" path="res://scripts/Game.gd" id="1_astxb"]
[ext_resource type="Script" path="res://scripts/Camera.gd" id="2_d63gu"]
[ext_resource type="PackedScene" uid="uid://c0un25vuo1nmm" path="res://scenes/pause_menu.tscn" id="2_nbn5r"]
[ext_resource type="Texture2D" uid="uid://jm1bhhp8ffsb" path="res://assets/map_tiles.png" id="3_ee80l"]
[ext_resource type="Texture2D" uid="uid://dr6yxo7p8kuw" path="res://assets/side_menu_background.png" id="4_ngtp2"]
[ext_resource type="Texture2D" uid="uid://bu4mn6i8vavn" path="res://assets/menu_title_background.png" id="5_lnuxy"]
[ext_resource type="Texture2D" uid="uid://b4r4fhn87fmlj" path="res://assets/top_bar.png" id="5_wedu5"]
[ext_resource type="StyleBox" uid="uid://bytjq71w8uwm1" path="res://assets/resource.tres" id="6_c0pvi"]
[ext_resource type="Texture2D" uid="uid://k75m7nff1uar" path="res://assets/iron_icon.png" id="7_fomvy"]
[ext_resource type="Texture2D" uid="uid://bb4qt77gf68jt" path="res://assets/bush_icon_0.png" id="7_lvbrs"]
[ext_resource type="Texture2D" uid="uid://drcew5y3os6os" path="res://assets/copper_icon_1.png" id="8_e2mof"]
[ext_resource type="Texture2D" uid="uid://dnxkeswg4ckue" path="res://assets/pause_menu_button.png" id="8_etsvh"]
[ext_resource type="Texture2D" uid="uid://bw6yl05yv6j1w" path="res://assets/copper_icon_0.png" id="10_58yyy"]
[ext_resource type="Texture2D" uid="uid://bdo11j8h0vwei" path="res://assets/pause_menu_button_pushed.png" id="12_n2fay"]

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_q1l4m"]
texture = ExtResource("4_ngtp2")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_xwix6"]
texture = ExtResource("5_lnuxy")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_e25ev"]
texture = ExtResource("5_lnuxy")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_htcwj"]
texture = ExtResource("5_lnuxy")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_2p2xj"]
texture = ExtResource("5_wedu5")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_rtws7"]
texture = ExtResource("8_etsvh")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_veudi"]
texture = ExtResource("8_etsvh")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_mlyhk"]
texture = ExtResource("12_n2fay")

[sub_resource type="StyleBoxTexture" id="StyleBoxTexture_h6m8d"]
texture = ExtResource("12_n2fay")

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_vnpe4"]
texture = ExtResource("3_ee80l")
0:0/0 = 0
1:0/0 = 0
2:0/0 = 0
3:0/0 = 0
4:0/0 = 0
0:1/0 = 0
1:1/0 = 0
2:1/0 = 0
3:1/0 = 0
4:1/0 = 0
5:1/0 = 0
6:1/0 = 0
0:2/0 = 0
1:2/0 = 0
2:2/0 = 0
3:2/0 = 0
4:2/0 = 0
5:2/0 = 0
6:2/0 = 0
0:3/0 = 0
1:3/0 = 0
2:3/0 = 0
3:3/0 = 0
4:3/0 = 0
5:3/0 = 0
0:4/0 = 0
0:5/0 = 0
1:5/0 = 0
1:6/0 = 0
0:6/0 = 0
0:7/0 = 0
1:7/0 = 0
1:8/0 = 0
0:8/0 = 0
0:9/0 = 0
1:9/0 = 0
2:9/0 = 0
2:10/0 = 0
2:11/0 = 0
1:11/0 = 0
0:11/0 = 0
0:10/0 = 0
1:10/0 = 0
0:12/0 = 0
0:13/0 = 0
0:14/0 = 0
1:14/0 = 0
2:14/0 = 0
2:15/0 = 0
1:15/0 = 0
0:15/0 = 0
2:13/0 = 0
2:12/0 = 0
1:12/0 = 0
3:12/0 = 0
3:11/0 = 0
3:10/0 = 0
3:9/0 = 0
1:13/0 = 0
0:16/0 = 0
1:16/0 = 0
2:16/0 = 0
3:16/0 = 0
3:17/0 = 0
2:17/0 = 0
1:17/0 = 0
0:17/0 = 0
0:18/0 = 0
1:18/0 = 0
2:18/0 = 0
3:18/0 = 0
3:19/0 = 0
2:19/0 = 0
1:19/0 = 0
0:19/0 = 0
0:20/0 = 0
0:21/0 = 0
1:21/0 = 0
1:20/0 = 0
2:20/0 = 0
2:21/0 = 0
3:20/0 = 0
3:21/0 = 0
4:20/0 = 0
4:19/0 = 0
4:21/0 = 0
2:8/0 = 0
5:0/0 = 0
2:6/0 = 0
3:6/0 = 0
3:5/0 = 0
2:5/0 = 0
7:2/0 = 0

[sub_resource type="TileSet" id="TileSet_aha5v"]
sources/0 = SubResource("TileSetAtlasSource_vnpe4")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jpkq7"]
bg_color = Color(0, 0, 0, 0)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(0, 0, 0, 1)

[node name="Game" type="Node2D"]
script = ExtResource("1_astxb")

[node name="Camera" type="Camera2D" parent="."]
position = Vector2(576, 324)
script = ExtResource("2_d63gu")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("2_nbn5r")]
visible = false
size_flags_horizontal = 4
size_flags_vertical = 4

[node name="SideBarUnitAction" type="Control" parent="CanvasLayer"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_left = 962.0
offset_top = 40.0
offset_right = 1152.0
offset_bottom = 645.0
mouse_filter = 1

[node name="Panel" type="Panel" parent="CanvasLayer/SideBarUnitAction"]
texture_filter = 1
layout_mode = 0
offset_right = 190.0
offset_bottom = 605.0
mouse_filter = 1
theme_override_styles/panel = SubResource("StyleBoxTexture_q1l4m")

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/SideBarUnitAction"]
layout_mode = 0
offset_left = 4.0
offset_top = 4.0
offset_right = 186.0
offset_bottom = 40.0

[node name="Panel" type="Panel" parent="CanvasLayer/SideBarUnitAction/MarginContainer"]
texture_filter = 1
layout_mode = 2
mouse_filter = 1
theme_override_styles/panel = SubResource("StyleBoxTexture_xwix6")

[node name="Label" type="Label" parent="CanvasLayer/SideBarUnitAction/MarginContainer"]
layout_mode = 2
size_flags_horizontal = 4
mouse_filter = 1
text = "Unit"

[node name="Actions" type="MarginContainer" parent="CanvasLayer/SideBarUnitAction"]
layout_mode = 0
offset_left = 4.0
offset_top = 43.0
offset_right = 186.0
offset_bottom = 602.0

[node name="Panel" type="Panel" parent="CanvasLayer/SideBarUnitAction/Actions"]
visible = false
layout_mode = 2
mouse_filter = 1

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/SideBarUnitAction/Actions"]
layout_mode = 2

[node name="Move" type="Button" parent="CanvasLayer/SideBarUnitAction/Actions/VBoxContainer"]
texture_filter = 1
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
mouse_filter = 1
theme_override_styles/normal = SubResource("StyleBoxTexture_e25ev")
text = "Move"

[node name="Attack" type="Button" parent="CanvasLayer/SideBarUnitAction/Actions/VBoxContainer"]
texture_filter = 1
custom_minimum_size = Vector2(0, 32)
layout_mode = 2
mouse_filter = 1
theme_override_styles/normal = SubResource("StyleBoxTexture_htcwj")
text = "Attack"

[node name="TopBar" type="Control" parent="CanvasLayer"]
custom_minimum_size = Vector2(10, 0)
layout_mode = 3
anchors_preset = 0
offset_right = 1152.0
offset_bottom = 37.0
mouse_filter = 1

[node name="Panel" type="Panel" parent="CanvasLayer/TopBar"]
texture_filter = 1
layout_mode = 0
offset_right = 1152.0
offset_bottom = 37.0
mouse_filter = 1
theme_override_styles/panel = SubResource("StyleBoxTexture_2p2xj")

[node name="Stone" type="Control" parent="CanvasLayer/TopBar"]
layout_mode = 2
anchors_preset = 0
offset_left = 776.0
offset_top = 7.0
offset_right = 864.0
offset_bottom = 31.0
mouse_filter = 1

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TopBar/Stone"]
layout_mode = 0
offset_right = 90.0
offset_bottom = 23.0

[node name="Panel" type="Panel" parent="CanvasLayer/TopBar/Stone/MarginContainer"]
texture_filter = 1
layout_mode = 2
mouse_filter = 1
theme_override_styles/panel = ExtResource("6_c0pvi")

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TopBar/Stone/MarginContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/TopBar/Stone/MarginContainer/HBoxContainer"]
texture_filter = 3
layout_mode = 2
texture = ExtResource("7_lvbrs")
expand_mode = 2

[node name="StoneLabel" type="Label" parent="CanvasLayer/TopBar/Stone/MarginContainer/HBoxContainer"]
layout_mode = 2
mouse_filter = 1
text = "0"

[node name="Copper" type="Control" parent="CanvasLayer/TopBar"]
layout_mode = 2
anchors_preset = 0
offset_left = 869.0
offset_top = 7.0
offset_right = 959.0
offset_bottom = 30.0
mouse_filter = 1

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TopBar/Copper"]
layout_mode = 0
offset_right = 90.0
offset_bottom = 23.0

[node name="Panel" type="Panel" parent="CanvasLayer/TopBar/Copper/MarginContainer"]
texture_filter = 1
layout_mode = 2
mouse_filter = 1
theme_override_styles/panel = ExtResource("6_c0pvi")

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TopBar/Copper/MarginContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/TopBar/Copper/MarginContainer/HBoxContainer"]
texture_filter = 3
layout_mode = 2
texture = ExtResource("8_e2mof")
expand_mode = 2

[node name="CopperLabel" type="Label" parent="CanvasLayer/TopBar/Copper/MarginContainer/HBoxContainer"]
layout_mode = 2
mouse_filter = 1
text = "0"

[node name="Iron" type="Control" parent="CanvasLayer/TopBar"]
layout_mode = 2
anchors_preset = 0
offset_left = 962.0
offset_top = 7.0
offset_right = 1052.0
offset_bottom = 30.0
mouse_filter = 1

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TopBar/Iron"]
layout_mode = 0
offset_right = 90.0
offset_bottom = 23.0

[node name="Panel" type="Panel" parent="CanvasLayer/TopBar/Iron/MarginContainer"]
texture_filter = 1
layout_mode = 2
mouse_filter = 1
theme_override_styles/panel = ExtResource("6_c0pvi")

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TopBar/Iron/MarginContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/TopBar/Iron/MarginContainer/HBoxContainer"]
texture_filter = 3
layout_mode = 2
texture = ExtResource("7_fomvy")
expand_mode = 2

[node name="IronLabel" type="Label" parent="CanvasLayer/TopBar/Iron/MarginContainer/HBoxContainer"]
layout_mode = 2
mouse_filter = 1
text = "0"

[node name="Coal" type="Control" parent="CanvasLayer/TopBar"]
layout_mode = 2
anchors_preset = 0
offset_left = 1055.0
offset_top = 7.0
offset_right = 1145.0
offset_bottom = 30.0
mouse_filter = 1

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/TopBar/Coal"]
layout_mode = 0
offset_right = 90.0
offset_bottom = 23.0

[node name="Panel" type="Panel" parent="CanvasLayer/TopBar/Coal/MarginContainer"]
texture_filter = 1
layout_mode = 2
mouse_filter = 1
theme_override_styles/panel = ExtResource("6_c0pvi")

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/TopBar/Coal/MarginContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/TopBar/Coal/MarginContainer/HBoxContainer"]
texture_filter = 3
layout_mode = 2
texture = ExtResource("10_58yyy")
expand_mode = 2

[node name="CoalLabel" type="Label" parent="CanvasLayer/TopBar/Coal/MarginContainer/HBoxContainer"]
layout_mode = 2
mouse_filter = 1
text = "0"

[node name="Menu" type="Button" parent="CanvasLayer/TopBar"]
texture_filter = 1
layout_mode = 2
offset_left = 8.0
offset_top = 7.0
offset_right = 32.0
offset_bottom = 31.0
mouse_filter = 1
theme_override_styles/normal = SubResource("StyleBoxTexture_rtws7")
theme_override_styles/hover = SubResource("StyleBoxTexture_veudi")
theme_override_styles/pressed = SubResource("StyleBoxTexture_mlyhk")
theme_override_styles/focus = SubResource("StyleBoxTexture_h6m8d")

[node name="Map" type="TileMap" parent="."]
texture_filter = 1
tile_set = SubResource("TileSet_aha5v")
format = 2
layer_0/name = "ground"
layer_1/name = "decoration"
layer_1/tile_data = PackedInt32Array()
layer_2/name = "resource"
layer_2/tile_data = PackedInt32Array()
layer_3/name = "building"
layer_3/tile_data = PackedInt32Array()
layer_4/name = "fog"
layer_4/z_index = 1
layer_4/tile_data = PackedInt32Array()

[node name="PreviewTile" type="TextureRect" parent="."]
visible = false
texture_filter = 1
offset_right = 16.0
offset_bottom = 16.0
size_flags_horizontal = 2
size_flags_vertical = 2
stretch_mode = 2

[node name="Border" type="Panel" parent="PreviewTile"]
show_behind_parent = true
custom_minimum_size = Vector2(16, 16)
layout_mode = 0
offset_left = -1.0
offset_top = -1.0
offset_right = 17.0
offset_bottom = 17.0
theme_override_styles/panel = SubResource("StyleBoxFlat_jpkq7")

[node name="PollutionTimer" type="Timer" parent="."]
wait_time = 0.05
autostart = true

[node name="PollutionUpdateTimer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[connection signal="mouse_entered" from="CanvasLayer/PauseMenu" to="." method="_on_mouse_entered_ui"]
[connection signal="mouse_entered" from="CanvasLayer/SideBarUnitAction" to="." method="_on_mouse_entered_ui"]
[connection signal="mouse_exited" from="CanvasLayer/SideBarUnitAction" to="." method="_on_mouse_exited_ui"]
[connection signal="pressed" from="CanvasLayer/SideBarUnitAction/Actions/VBoxContainer/Move" to="." method="_on_move_pressed"]
[connection signal="pressed" from="CanvasLayer/SideBarUnitAction/Actions/VBoxContainer/Attack" to="." method="_on_attack_pressed"]
[connection signal="mouse_entered" from="CanvasLayer/TopBar" to="." method="_on_mouse_entered_ui"]
[connection signal="mouse_exited" from="CanvasLayer/TopBar" to="." method="_on_mouse_exited_ui"]
[connection signal="pressed" from="CanvasLayer/TopBar/Menu" to="." method="_on_menu_pressed"]
[connection signal="timeout" from="PollutionTimer" to="." method="_on_pollution_timer_timeout"]
[connection signal="timeout" from="PollutionUpdateTimer" to="." method="_on_pollution_update_timer_timeout"]
